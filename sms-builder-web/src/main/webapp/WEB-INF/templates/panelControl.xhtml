<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:sidebar widgetVar="controlPanel" baseZIndex="10000" rendered="#{seguridadBean.autenticado}"
               style="width: 1030px">
        <h3>#{msg.etiquetaPanelControlTitulo}</h3>
        <p:panelGrid styleClass="ui-panelgrid-blank">
            <p:row>
                <p:column style="vertical-align: text-top">
                    <ui:include src="/WEB-INF/templates/revision/resumen.xhtml"/>
                    <br />
                    <p:panel>
                        <f:facet name="header">
                            <h:outputText value="Configuration"/>
                        </f:facet>
                        <h:form id="menuConfigurar">
                            <p:menu toggleable="true" >
                                <p:menuitem value="#{msg['menu.usuarios']}"
                                            action="/usuario/index.xhtml" update=":panelContenido"
                                            icon="ui-icon-person"
                                            rendered="#{seguridadBean.verifivarAcceso('/usuario/index.xhtml')}" />
                                <p:menuitem value="#{msg['menu.recurso']}"
                                            action="/seguridad/recurso/index.xhtml" update=":panelContenido"
                                            icon="ui-icon-plus"
                                            rendered="#{seguridadBean.verifivarAcceso('/seguridad/recurso/index.xhtml')}" />
                                <p:menuitem value="#{msg['menu.rol']}"
                                            action="/seguridad/rol/index.xhtml" update=":panelContenido"
                                            icon="ui-icon-plus"
                                            rendered="#{seguridadBean.verifivarAcceso('/seguridad/rol/index.xhtml')}" />
                                <p:menuitem value="#{msg['menu.usuario.actualizar']}"
                                            action="/seguridad/usuario/actualizar.xhtml"
                                            update=":panelContenido" icon="ui-icon-person"
                                            rendered="#{seguridadBean.verifivarAcceso('/seguridad/usuario/actualizar.xhtml')}" />
                                <p:menuitem value="#{msg['menu.usuario.registrar']}"
                                            action="/seguridad/usuario/index.xhtml"
                                            update=":panelContenido" icon="ui-icon-person"
                                            rendered="#{seguridadBean.verifivarAcceso('/seguridad/usuario/index.xhtml')}" />
                            </p:menu>
                        </h:form>
                    </p:panel>
                </p:column>
                <p:column style="vertical-align: text-top">
                    <p:panel rendered="#{seguridadBean.autenticado}">
                        <f:facet name="header">
                            <h:outputText value="#{msg.etiquetaMenuTitulo}"/>
                        </f:facet>
                        <h:form id="menu">
                            <p:panelMenu model="#{procesoBean.model}" style="width: 450px">

                            </p:panelMenu>
                        </h:form>
                    </p:panel>
                </p:column>
            </p:row>
        </p:panelGrid>

        <!--

                <style type="text/css">
                    .loading-icon {
                        font-size: 3rem;
                        color: var(- -primary-color);
                    }
                </style>
                <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"/>

                <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                    <div class="p-text-center">
                        <i class="pi pi-spinner loading-icon" ></i>
                    </div>
                </p:dialog>
                <div style="position: absolute; right: -50px; top: 400px">
                    <h:form>
                        <p:commandButton icon="pi pi-bars" type="button" onclick="if( PF('controlPanel').isVisible() ){PF('controlPanel').hide()}else PF('controlPanel').show()"
                                         styleClass="rounded-button ui-button-flat ui-button-plain"
                                         rendered="#{seguridadBean.autenticado}"/>
                    </h:form>
                </div>
                -->
    </p:sidebar>

</ui:composition>
