<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<h:form id="menu" xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="jakarta.faces.html"
		xmlns:f="jakarta.faces.core"
        xmlns:p="http://primefaces.org/ui">
	<p:growl id="messages" />

	<p:menubar>
		<p:submenu label="#{msg.etiquetaMenuRevision}" icon="pi pi-file"
				   >
			<p:menuitem value="#{msg.etiquetaMenuRevisionRevisores}"
						action="/revision/revisores/index" rendered="#{seguridadBean.verifivarAcceso('/revision/revisores/index.xhtml')}" />
			<p:menuitem value="#{msg.etiquetaMenuResumen}"
						action="/index" rendered="#{seguridadBean.verifivarAcceso('/index.xhtml')}" />
		</p:submenu>

		<p:menuitem value="#{msg.etiquetaMenuObjetivo}"
			action="/revision/registroObjetivo" update="messages"
			rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/registroObjetivo.xhtml') }" />

		<p:menuitem value="#{msg.etiquetaMenuPregunta}"
			action="/revision/registroPregunta" update="messages"
					rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/registroPregunta.xhtml') }" />

		<p:menuitem value="#{msg.etiquetaTermino}"
			action="/revision/registroTermino" update="messages"
					rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/registroTermino.xhtml') }" />

		<p:submenu label="#{msg.etiquetaMenuReferencias}" icon="pi pi-cog"
				   rendered="#{registroInicialBean.revision != null and (seguridadBean.verifivarAcceso('/revision/registroReferencias.xhtml') or
				   seguridadBean.verifivarAcceso('/revision/gestionarReferenciasRepetidas.xhtml')
				   or seguridadBean.verifivarAcceso('/revision/aplicarCriterios.xhtml')
				   or seguridadBean.verifivarAcceso('/revision/resumenReferenciasSeleccionadas.xhtml')
				   or seguridadBean.verifivarAcceso('/revision/resumenReferenciasDestacadas.xhtml')
				   or seguridadBean.verifivarAcceso('/revision/referenciaAdicionarCitas.xhtml')
				   or seguridadBean.verifivarAcceso('/revision/analizarReferencias.xhtml'))}">

			<p:menuitem value="#{msg.etiquetaMenuReferenciasImportar}"
				action="/revision/registroReferencias"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/registroReferencias.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuReferenciasDuplicadas}"
				action="/revision/gestionarReferenciasRepetidas"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/gestionarReferenciasRepetidas.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuReferenciasSeleccionar}"
				action="/revision/aplicarCriterios"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/aplicarCriterios.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuReferenciasSeleccionadas}"
				action="/revision/resumenReferenciasSeleccionadas"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/resumenReferenciasSeleccionadas.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuReferenciasDestacadas}"
				action="/revision/resumenReferenciasDestacadas"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/resumenReferenciasDestacadas.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuReferenciaNumeroCitas}"
				action="/revision/referenciaAdicionarCitas"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/referenciaAdicionarCitas.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuAnalizarReferencias}"
				action="/revision/analizarReferencias"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/analizarReferencias.xhtml') }" />

		</p:submenu>


		<p:submenu label="#{msg.etiquetaMenuCalidad}" icon="pi pi-cog"
				   rendered="#{registroInicialBean.revision != null }">
			<p:menuitem value="#{msg.etiquetaMenuAtributosCalidad}"
				action="/revision/registroAtributoCalidad"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/registroAtributoCalidad.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuEvaluarReferencia}"
				action="/revision/evaluarReferencias"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/evaluarReferencias.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuCalidadTablaResumen}"
				action="/revision/tablaResumenEvaluacionReferencias"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/tablaResumenEvaluacionReferencias.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuCalidadTablaResumenAtributo}"
				action="/revision/tablaResumenEvaluacionReferenciasAtributo"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/revision/tablaResumenEvaluacionReferenciasAtributo.xhtml') }" />
		</p:submenu>
		<p:submenu label="#{msg.etiquetaMenuAnalisisDatos}" icon="pi pi-cog"
				   rendered="#{registroInicialBean.revision != null }">

			<p:menuitem
				value="#{msg.etiquetaMenuAnalisisTablaReferenciaPregunta}"
				action="/estadisticas/tablaReferenciasPreguntas"
				rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/tablaReferenciasPreguntas.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuAnalisisTablaReferenciaTopico}"
				action="/estadisticas/tablaReferenciasTopicos"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/tablaReferenciasTopicos.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuAnalisisReferenciaYear}"
				action="/estadisticas/referenciasYear"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasYear.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuAnalisisReferenciaTipo}"
				action="/estadisticas/referenciasTipo"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasTipo.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuAnalisisReferenciaTipoFuente}"
				action="/estadisticas/referenciasTipoFuente"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasTipoFuente.xhtml') }" />

			<p:menuitem value="#{msg.etiquetaMenuAnalisisReferenciaTopico}"
				action="/estadisticas/referenciasTopico"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasTopico.xhtml') }" />
			<p:menuitem
				value="#{msg.etiquetaMenuAnalisisReferenciaTopicoAtributoCalidad}"
				action="/estadisticas/referenciasTopicoAtributoCalidad"
				rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasTopicoAtributoCalidad.xhtml') }" />


			<p:menuitem value="#{msg.etiquetaMenuAnalisisReferenciaPregunta}"
				action="/estadisticas/referenciasPregunta"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasPregunta.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuAnalisisCalidadYear}"
				action="/estadisticas/referenciasCalidadYear"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciasCalidadYear.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuPalabrasClave}"
				action="/estadisticas/palabrasClave"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/palabrasClave.xhtml') }" />
			<p:menuitem value="#{msg.etiquetaMenuMetadato}"
				action="/estadisticas/referenciaPalabrasClave"
						rendered="#{registroInicialBean.revision != null and seguridadBean.verifivarAcceso('/estadisticas/referenciaPalabrasClave.xhtml') }" />
		</p:submenu>

		<p:submenu label="#{msg['menu.gestionar']}" icon="ui-icon-gear"
				   rendered="#{seguridadBean.urlRecursos.contains('/seguridad/usuario/index.xhtml') or seguridadBean.urlRecursos.contains('/seguridad/recurso/index.xhtml') or seguridadBean.urlRecursos.contains('/seguridad/rol/index.xhtml')  or seguridadBean.urlRecursos.contains('/seguridad/usuario/actualizar.xhtml') or seguridadBean.urlRecursos.contains('/seguridad/usuario/index.xhtml') }">
				<p:menuitem value="#{msg['menu.usuarios']}"
							action="/usuario/index.xhtml" update=":panelContenido"
							icon="ui-icon-person"
							rendered="#{seguridadBean.verifivarAcceso('/usuario/index.xhtml')}" />
				<p:menuitem value="#{msg['menu.recurso']}"
							action="/seguridad/recurso/index.xhtml" update=":panelContenido"
							icon="ui-icon-plus"
							rendered="#{seguridadBean.verifivarAcceso('/seguridad/recurso/index.xhtml')}" />
				<p:menuitem value="#{msg['menu.rol']}"
							action="/seguridad/rol/index.xhtml" update=":panelContenido"
							icon="ui-icon-plus"
							rendered="#{seguridadBean.verifivarAcceso('/seguridad/rol/index.xhtml')}" />
				<p:menuitem value="#{msg['menu.usuario.actualizar']}"
							action="/seguridad/usuario/actualizar.xhtml"
							update=":panelContenido" icon="ui-icon-person"
							rendered="#{seguridadBean.verifivarAcceso('/seguridad/usuario/actualizar.xhtml')}" />
				<p:menuitem value="#{msg['menu.usuario.registrar']}"
							action="/seguridad/usuario/index.xhtml"
							update=":panelContenido" icon="ui-icon-person"
							rendered="#{seguridadBean.verifivarAcceso('/seguridad/usuario/index.xhtml')}" />
		</p:submenu>


		<f:facet name="options">
			<p:commandButton value="#{msg['menu.salir']}" action="#{seguridadBean.cerrarSesion}" ajax="false" immediate="true" icon="pi pi-fw pi-sign-out" styleClass="rounded-button ui-button-info" rendered="#{seguridadBean.autenticado}" />
		</f:facet>
	</p:menubar>
</h:form>

